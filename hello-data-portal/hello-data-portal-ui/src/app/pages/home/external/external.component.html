
<div *ngIf="(currentUserPermissions$ | async) as permissions">
  <div *ngIf="(externalDashboards$ | async) as externalDashboards">
    <p-table #dt [filterDelay]="0"
             [globalFilterFields]="['title', 'businessProcess', 'department', 'responsibility', 'dataAnalyst', 'scheduled', 'datasource']"
             [paginator]="true"
             [rowHover]="true"
             [rows]="5"
             [showCurrentPageReport]="true"
             [tableStyle]="{ 'min-width': '20rem' }"
             [value]="externalDashboards"
             dataKey="id">
      <ng-template pTemplate="header">
        <tr>
          <th id="icon"></th>
          <th id="contextName" pSortableColumn="contextName">{{'@Data domain' | transloco}}
            <p-sortIcon field="contextName"></p-sortIcon>
          </th>
          <th id="title" pSortableColumn="title">{{'@Dashboard' | transloco}}
            <p-sortIcon field="title"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template let-dashboard pTemplate="body">
        <tr>
          <td>
            <div class="flex align-items-center justify-content-center gap-2">
              <i class="fas fa-up-right-from-square"></i>
            </div>
          </td>
          <td>
            {{ dashboard.contextName }}
          </td>
          <td>
            <a [href]="createExternalUrl(dashboard.url)" rel="noopener" target="_blank">{{ dashboard.title }}</a>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>


